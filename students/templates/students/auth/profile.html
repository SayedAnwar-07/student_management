{% extends 'base.html' %} 

{% block title %}Student Management |Profile{%endblock %} 

{% block head %}
<!-- Additional CSS/JS specific to this page -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
  integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
  crossorigin="anonymous"
  referrerpolicy="no-referrer"
/>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/daisyui@2.51.5/dist/full.min.js"></script>
<link
  href="https://cdn.jsdelivr.net/npm/daisyui@2.51.5/dist/full.min.css"
  rel="stylesheet"
/>
{% endblock %} {% block content %}
<div class="container mx-auto p-6 bg-white rounded-lg">
  <!-- Profile Section -->
  <div class="flex flex-col items-center mb-8">
    <h2 class="text-3xl font-bold text-black mb-2">
      Welcome, <span class="text-[#ff6c37]">{{ user.username }}</span>
    </h2>
    <p class="text-lg text-gray-500 mb-4"><strong>Email: </strong>{{ user.email }}</p>
    <hr class="border-t-2 border-gray-200 w-full mb-6" />
  </div>

  <!-- Students Section -->
  <div>
    <h3 class="text-2xl font-semibold text-gray-700 mb-4">Your Students</h3>
    {% if students %}
    <div class="overflow-x-auto w-full">
      <table class="table w-full">
        <!-- head -->
        <thead>
          <tr>
            <th></th>
            <th>Image</th>
            <th>Course Name</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for student in students %}
          <tr>
            <td
              class="px-12 py-4 text-sm font-medium text-gray-700 whitespace-nowrap"
            >
              <div
                class="inline-flex items-center px-3 py-1 rounded-full gap-x-2 bg-[#ff7d1b24]"
              >
                <h2 class="text-sm font-normal text-[#ff6c37]">
                  {{ forloop.counter }}
                </h2>
              </div>
            </td>
            <td
              class="px-4 py-4 text-sm font-medium text-gray-700 whitespace-nowrap"
            >
              <div class="inline-flex items-center gap-x-3">
                <div class="flex items-center gap-x-2">
                  <img
                    class="object-cover w-10 h-10 rounded-full"
                    src="{{student.image.url}}"
                    alt=""
                  />
                </div>
              </div>
            </td>
            <td
              class="px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"
            >
              {{student.course}}
            </td>
            <td
              class="px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"
            >
              {{ student.name }}
            </td>
            <td
              class="px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"
            >
              {{ student.email }}
            </td>
            <td
              class="px-4 py-4 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap"
            >
              {{ student.phone_number }}
            </td>
            <td class="px-4 py-4 text-sm whitespace-nowrap">
              <div class="flex items-center gap-x-6">
                <a
                  class="text-gray-500 transition-colors duration-200 dark:hover:text-red-500 dark:text-gray-300 hover:text-red-500 focus:outline-none cursor-pointer"
                  href="{% url 'student_delete' student.id %}"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-5 h-5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"
                    />
                  </svg>
                </a>

                <a
                  class="text-gray-500 transition-colors duration-200 dark:hover:text-yellow-500 dark:text-gray-300 hover:text-yellow-500 focus:outline-none cursor-pointer"
                  href="{% url 'student_update' student.id %}"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-5 h-5"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"
                    />
                  </svg>
                </a>
              </div>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <p class="text-gray-500">You have no students yet.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
